üóÉÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
telegram_mail_bridge/
‚îú‚îÄ‚îÄ config.ini # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ main.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ app_config.py # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ telegram_client.py # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç Telegram (Pyrogram)
‚îÇ   ‚îú‚îÄ‚îÄ dns_validator.py # DNS-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä (–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∏–∑–≤–Ω–µ)
‚îÇ   ‚îú‚îÄ‚îÄ cf_dns_manager.py # –ú–µ–Ω–µ–¥–∂–µ—Ä Cloudflare API
‚îÇ   ‚îî‚îÄ‚îÄ redis_storage.py # –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø–∏—Å–µ–º –≤ Redis
‚îî‚îÄ‚îÄ services/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ smtp_handler.py # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ SMTP (aiosmtpd)
    ‚îî‚îÄ‚îÄ telegram_handler.py # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ Telegram
```


üéØ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É**

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
```bash
pip install -r requirements.txt
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ `config.ini`**:
- –ü–æ–ª—É—á–∏—Ç–µ `api_id` –∏ `api_hash` –Ω–∞ [my.telegram.org](https://my.telegram.org)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Redis —Å–µ—Ä–≤–µ—Ä (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω–æ)
- –î–ª—è Cloudflare API –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ zone_id –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Cloudflare

3. **–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã**:
```bash
python main.py
```

4. **–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**:
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è Telegram
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è: `/set_target me` –∏–ª–∏ `/set_target channel ID_–ö–ê–ù–ê–õ–ê`
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –¥–ª—è t.me: `/dns_setup @–≤–∞—à_username`

5. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∏—Å—å–º–∞**:
```bash
echo "Test email" | mailx -s "Test" -S smtp="localhost:1025" \
-S smtp-auth=login -S smtp-auth-user="telegram_user" \
-S smtp-auth-password="complex_password_123!" \
test@t.me
```

‚ö†Ô∏è **–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è**

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Redis**: –î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –ø–∏—Å–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –∫–ª–∞—Å—Ç–µ—Ä
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å SMTP**: –í production –≤–∫–ª—é—á–∏—Ç–µ TLS –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
3. **Cloudflare API**: –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
4. **Telegram –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –°–æ–±–ª—é–¥–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã API (–Ω–µ –±–æ–ª–µ–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫)
5. **–•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∏—Å–µ–º**: –†–µ–≥—É–ª—è—Ä–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø–∏—Å—å–º–∞ –∏–∑ Redis

–≠—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é, –≥–æ—Ç–æ–≤—É—é –∫ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—á—Ç—ã —á–µ—Ä–µ–∑ Telegram —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Redis, Cloudflare DNS –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏.